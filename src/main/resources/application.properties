# spring.application.name=event

# # Đổi cổng máy chủ, bởi vì cổng mặc định 8080 hay bị chiếm bởi phần mềm khác
# server.port = 6868

# # LƯU Ý: Phải tạo csdl trên Xampp, với bộ kí tự mã hóa: utf8mb4 trước khi chạy
# spring.datasource.url=jdbc:mysql://localhost:3306/event25
# spring.datasource.username=root
# spring.datasource.password=

# # Hibernate

# # The SQL dialect makes Hibernate generate better SQL for the chosen database
# spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect

# spring.jpa.hibernate.ddl-auto = update
# spring.jpa.show-sql=true
# # spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL55Dialect
# # Thêm hibernate.dialect để tương thích MySQL 5.5.5.

# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type=

# # logging.level.root=DEBUG
# # Kiểm tra lỗi khi truy vấn SQL
# # logging.level.org.springframework=DEBUG
# spring.jmx.enabled=false
# logging.level.lee.engback=DEBUG
# logging.level.org.springframework.security=DEBUG
# # Kiểm tra lỗi khi truy vấn SQL

# # KHÓA BÍ MẬT JWT
# jwt.secret=8y/B?E(H+MbQeThWmYq3t6w9z$C&F)J@NcRfUjXnZr4u7x!A%D*G-KaPdSgVkYp
# # KHÓA BÍ MẬT JWT

# # Cho phép trang web cập nhật lại tự động, mỗi khi *.html bị sửa
# # trên Server
# spring.thymeleaf.cache=false

# # Vô hiệu hóa trang báo lỗi mặc định của Spring Boot
# # sau đó bổ sung tệp error.html trong 
# # ~\src\main\resources\templates\error.html
# server.error.whitelabel.enabled=false

# # Gỡ lỗi nâng cao: bổ sung QdlError.java
# server.error.path=/error

# # Cấu hình Java Spring Boot Session
# # Lỗi bôi đỏ, bôi vàng kệ nó
# spring.session.store-type=jdbc
# spring.session.jdbc.initialize-schema=always
# # spring.session.timeout.seconds=900
# spring.session.timeout=PT15M
# #bí mật ký HMAC + TTL vé:
# eventsphere.qr.secret=change-me-super-secret-at-least-32-bytes
# eventsphere.qr.ttl-hours=24




# ========= Ứng dụng & Server =========
spring.application.name=event
server.port=6868
app.qr.secret=TMTD
# ========= DataSource (MySQL/XAMPP) =========
# LƯU Ý: Tạo CSDL event25 với charset/collation utf8mb4/utf8mb4_unicode_ci trước khi chạy
spring.datasource.url=jdbc:mysql://localhost:3306/event25?useUnicode=true&characterEncoding=utf8&connectionCollation=utf8mb4_unicode_ci&serverTimezone=Asia/Bangkok&useSSL=false&allowPublicKeyRetrieval=true  # [ADD]
spring.datasource.username=root
spring.datasource.password=

# ========= JPA/Hibernate =========
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true  # [ADD]

# Log truy vấn & binding tham số
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE 
 # [ADD] hiển thị giá trị bind
# logging.level.org.springframework=DEBUG  # bật khi cần điều tra
spring.jmx.enabled=false

# ========= Security / JWT =========
# CHÚ Ý: tên thuộc tính phải khớp với code của bạn.
# Nếu JwtService đọc key từ 'jwt.secret' thì giữ dòng dưới.
# Nếu code đọc 'app.jwt.secret' thì đổi tương ứng (xem lại JwtService).
jwt.secret=8y/B?E(H+MbQeThWmYq3t6w9z$C&F)J@NcRfUjXnZr4u7x!A%D*G-KaPdSgVkYp

# ========= Thymeleaf (nếu dùng template) =========
spring.thymeleaf.cache=false

# ========= Trang lỗi tuỳ biến =========
server.error.whitelabel.enabled=false
server.error.path=/error

# ========= Spring Session (JDBC) =========
spring.session.store-type=jdbc
spring.session.jdbc.initialize-schema=always
spring.session.timeout=PT15M

# ========= QR Config (sẽ dùng trong service) =========
eventsphere.qr.secret=change-me-super-secret-at-least-32-bytes
eventsphere.qr.ttl-hours=24

# ========= Log thêm (tùy chọn) =========
logging.level.org.springframework.security=DEBUG
# logging.level.root=DEBUG

# thư mục lưu ảnh local (tự chọn)
app.upload.dir=D:/event-uploads

# giới hạn kích thước upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# expose file tĩnh từ thư mục local dưới path /uploads/**
spring.web.resources.static-locations=file:${app.upload.dir}/
