



# # ========= Ứng dụng & Server =========
# spring.application.name=event
# server.port=6868
# app.qr.secret=TMTD
# # ========= DataSource (MySQL/XAMPP) =========
# # LƯU Ý: Tạo CSDL event25 với charset/collation utf8mb4/utf8mb4_unicode_ci trước khi chạy
# spring.datasource.url=jdbc:mysql://localhost:3306/event25?useUnicode=true&characterEncoding=utf8&connectionCollation=utf8mb4_unicode_ci&serverTimezone=Asia/Bangkok&useSSL=false&allowPublicKeyRetrieval=true  # [ADD]
# spring.datasource.username=root
# spring.datasource.password=

# # ========= JPA/Hibernate =========
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.format_sql=true  # [ADD]

# # Log truy vấn & binding tham số
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE 
#  # [ADD] hiển thị giá trị bind
# # logging.level.org.springframework=DEBUG  # bật khi cần điều tra
# spring.jmx.enabled=false

# # ========= Security / JWT =========
# # CHÚ Ý: tên thuộc tính phải khớp với code của bạn.
# # Nếu JwtService đọc key từ 'jwt.secret' thì giữ dòng dưới.
# # Nếu code đọc 'app.jwt.secret' thì đổi tương ứng (xem lại JwtService).
# jwt.secret=8y/B?E(H+MbQeThWmYq3t6w9z$C&F)J@NcRfUjXnZr4u7x!A%D*G-KaPdSgVkYp

# # ========= Thymeleaf (nếu dùng template) =========
# spring.thymeleaf.cache=false

# # ========= Trang lỗi tuỳ biến =========
# server.error.whitelabel.enabled=false
# server.error.path=/error

# # ========= Spring Session (JDBC) =========
# spring.session.store-type=jdbc
# spring.session.jdbc.initialize-schema=always
# spring.session.timeout=PT15M

# # ========= QR Config (sẽ dùng trong service) =========
# eventsphere.qr.secret=change-me-super-secret-at-least-32-bytes
# eventsphere.qr.ttl-hours=24

# # ========= Log thêm (tùy chọn) =========
# logging.level.org.springframework.security=DEBUG
# # logging.level.root=DEBUG

# # thư mục lưu ảnh local (tự chọn)
# app.upload.dir=D:/event-uploads

# # giới hạn kích thước upload
# spring.servlet.multipart.max-file-size=10MB
# spring.servlet.multipart.max-request-size=10MB

# # expose file tĩnh từ thư mục local dưới path /uploads/**
# spring.web.resources.static-locations=file:${app.upload.dir}/


# # ========= Mail (Gmail SMTP) =========
# mail.enabled=true
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your_gmail@gmail.com
# spring.mail.password=your_gmail_app_password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true
# spring.mail.properties.mail.smtp.starttls.required=true
# spring.mail.properties.mail.smtp.connectiontimeout=10000
# spring.mail.properties.mail.smtp.timeout=10000
# spring.mail.properties.mail.smtp.writetimeout=10000
# app.mail.from=EventSphere <your_gmail@gmail.com>


# ... giữ nguyên phần trên của bạn ...

spring.main.allow-bean-definition-overriding=true
logging.level.org.springframework.security=DEBUG
logging.level.io.jsonwebtoken=DEBUG
# ========= App & Server =========
spring.application.name=event
server.port=6868
spring.jmx.enabled=false

# ========= DataSource (MySQL/XAMPP) =========
# Tạo CSDL: event25 (utf8mb4/utf8mb4_unicode_ci)
spring.datasource.url=jdbc:mysql://localhost:3306/event25
spring.datasource.username=root
spring.datasource.password=rootpass

# ========= JPA/Hibernate =========
# ❗ KHÔNG ép dialect, để Hibernate tự chọn theo driver (loại bỏ cảnh báo)
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect   # <— BỎ DÒNG NÀY
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Log SQL + binding (bật khi cần debug)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
# logging.level.org.springframework=DEBUG

# ========= Security / JWT =========
jwt.secret=8y/B?E(H+MbQeThWmYq3t6w9z$C&F)J@NcRfUjXnZr4u7x!A%D*G-KaPdSgVkYp

# ========= Thymeleaf =========
spring.thymeleaf.cache=false

# ========= Error page =========
server.error.whitelabel.enabled=false
server.error.path=/error

# ========= Spring Session (JDBC) =========
spring.session.store-type=jdbc
spring.session.jdbc.initialize-schema=always
spring.session.timeout=PT15M

# ========= QR custom =========
eventsphere.qr.secret=change-me-super-secret-at-least-32-bytes
eventsphere.qr.ttl-hours=24

# ========= Static uploads =========
app.upload.dir=D:/event-uploads
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.web.resources.static-locations=file:${app.upload.dir}/

# ========= Mail (Gmail SMTP) =========
# Đặt true để gửi thật; đặt false để No-Op (app vẫn chạy, không gửi)
mail.enabled=true

spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=duytu178204@gmail.com            # <— Gmail thật
spring.mail.password=${MAIL_APP_PASSWORD}          # <— App Password 16 ký tự (phải bật 2FA)
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000

# From hiển thị trên email
app.mail.from=EventSphere <duytu178204@gmail.com>
# (tuỳ chọn) địa chỉ reply-to
# app.mail.replyTo=support@your-domain.com

logging.level.org.springframework.security=DEBUG
logging.level.tmtd.event=DEBUG
# trả về message + binding errors ra /error để thấy lý do
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=ON_PARAM

